<!DOCTYPE html>
<html>
    <head>
        <title>show svg</title>
        <script type="text/javascript" src="cj.js"></script>
        <script type="text/javascript">
        var kr = 39;
        var kl = 37;
        var index = 0;
        var view = document.getElementById('view');
        var prev = document.getElementById('prev');
        var next = document.getElementById('next');
        var stat = document.getElementById('stat');

        function adjustIndex() {
            var len = ws.length;
            if (index >= len) {
                index = index % len;
            }
            if (index < 0) {
                index = len - 1;
            }
        }
        function updateView() {
            adjustIndex();
            view.src = ws[index];
            stat.innerHTML = ws[index];
        }
        
        function shuffle() {
            index = Math.floor(Math.random() * ws.length);
            updateView();
        }

        function init() {
            kr = 39;
            kl = 37;
            index = 0;
            view = document.getElementById('view');
            prev = document.getElementById('prev');
            next = document.getElementById('next');
            stat = document.getElementById('stat');

            updateView();

            prev.addEventListener('click', prevView());
            next.addEventListener('click', nextView());
            document.onkeypress = function(e) {
                e = e || window.event;
                var kc = e.keyCode;
                if (kc == kr) { //left
                    index ++;
                } else if (kc == kl) {//right
                    index --;
                }
                updateView();
            };
        }
        function prevView() {
            index--;
            updateView();
        }
        function nextView() {
            index++;
            updateView();
        }
        </script>
    </head>
    <body onload="init()">
        <div id=img><img id=view src="s2/a01.svg"></img></div>
        <table>
            <tr>
                <td span=3><div id=stat></div></td>
            </tr>
            <tr>
                <td><div id=prev><input type="button" name="prev" onclick="prevView()" /></div></td>
                <td><div id=prev><input type="button" name="shuffle" onclick="shuffle()" /></div></td>
                <td><div id=next><input type="button" name="next" onclick="prevView()" /></div></td>
            </tr>
        </table>
    </body>
</html>